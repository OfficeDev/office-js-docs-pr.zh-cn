
> [!NOTE]
> <span data-ttu-id="9c5ff-p101">仅在开发加载项时，才需要执行此过程。将生产加载项部署到 AppSource 或加载项目录时，用户需要单独信任它，否则管理员会在安装时授予组织许可。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-p101">This procedure is only needed when you're developing the add-in. When your production add-in is deployed to AppSource or an add-in catalog, users will individually trust it or an admin will consent for organization at installation.</span></span>

<span data-ttu-id="9c5ff-103">[注册外](../develop/register-sso-add-in-aad-v2.md)接程序*后*, 请执行此过程。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-103">Carry out this procedure *after* you have [registered the add-in](../develop/register-sso-add-in-aad-v2.md).</span></span>

1. <span data-ttu-id="9c5ff-104">在以下字符串中，将占位符“{application_ID}”替换为注册加载项时复制的应用 ID：`https://login.microsoftonline.com/common/adminconsent?client_id={application_ID}&state=12345`</span><span class="sxs-lookup"><span data-stu-id="9c5ff-104">In the following string, replace the placeholder “{application_ID}” with the Application ID that you copied when you registered your add-in:  `https://login.microsoftonline.com/common/adminconsent?client_id={application_ID}&state=12345`</span></span>

1. <span data-ttu-id="9c5ff-105">将生成的 URL 粘贴到浏览器地址栏，并转到此 URL。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-105">Paste the resulting URL into a browser address bar and navigate to it.</span></span>

1. <span data-ttu-id="9c5ff-106">看到提示时，使用管理员凭据登录 Office 365 租户。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-106">When prompted, sign in with the admin credentials to your Office 365 tenancy.</span></span>

1. <span data-ttu-id="9c5ff-p102">然后系统提示你授予外接程序访问 Microsoft Graph 数据的权限。单击“接受”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-p102">You are then prompted to grant permission for your add-in to access your Microsoft Graph data. Click **Accept**.</span></span>

1. <span data-ttu-id="9c5ff-109">然后, 将浏览器窗口/选项卡重定向到注册外接程序时指定的**重定向 URL** 。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-109">The browser window/tab is then redirected to the **Redirect URL** that you specified when you registered the add-in.</span></span> <span data-ttu-id="9c5ff-110">如果加载项的 web 应用程序正在运行, 则外接程序的主页将在浏览器中打开;否则, 将收到404错误。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-110">If the add-in's web application is running, the home page of the add-in opens in the browser; otherwise, you'll get a 404 error.</span></span> <span data-ttu-id="9c5ff-111">但是, 浏览器试图打开主页这一事实意味着已成功授予同意。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-111">But the fact that the browser attempted to open the home page means that consent was successfully granted.</span></span>

>[!NOTE]
><span data-ttu-id="9c5ff-112">如果您使用的是开发人员 O365 租户, 我们建议采用此过程作为最佳实践。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-112">We recommend this procedure as a best practice if you are using a Developer O365 tenant.</span></span> <span data-ttu-id="9c5ff-113">但是, 如果你愿意, 可以在开发过程中旁加载 SSO 加载项, 并提示用户提供许可表单。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-113">However, if you prefer, it is possible to sideload an SSO add-in under development and prompt the user with a consent form.</span></span> <span data-ttu-id="9c5ff-114">有关详细信息, 请参阅[旁加载 on Windows](/office/dev/add-ins/testing/create-a-network-shared-folder-catalog-for-task-pane-and-content-add-ins)和[旁加载 on Office Online](/office/dev/add-ins/testing/sideload-office-add-ins-for-testing)。</span><span class="sxs-lookup"><span data-stu-id="9c5ff-114">For more information, see [Sideload on Windows](/office/dev/add-ins/testing/create-a-network-shared-folder-catalog-for-task-pane-and-content-add-ins) and [Sideload on Office Online](/office/dev/add-ins/testing/sideload-office-add-ins-for-testing).</span></span>
